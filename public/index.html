<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âš½ BeforePoly - Goal Trading Bot</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>âš½ BeforePoly Bot</h1>
            <p class="subtitle">Compra automÃ¡tica al detectar goles</p>
        </header>

        <!-- Panel de Carga de Evento -->
        <section class="event-loader">
            <h2>ğŸ“ Cargar Evento</h2>
            <div class="input-group">
                <input 
                    type="text" 
                    id="eventSlug" 
                    placeholder="ej: lal-esp-gir-2026-01-16 o URL completa"
                    class="input-slug"
                >
                <button id="loadEventBtn" class="btn btn-primary">
                    ğŸ” Cargar Evento
                </button>
            </div>
            <p class="help-text">Pega el slug del evento o la URL completa de Polymarket</p>
        </section>

        <!-- InformaciÃ³n del Evento -->
        <section id="matchSection" class="match-section hidden">
            <h2 id="matchTitle" class="match-title">Cargando...</h2>

            <!-- Marcador -->
            <div class="scoreboard">
                <div class="team local-team">
                    <h3 id="localTeamName">Local</h3>
                    <div class="score" id="scoreLocal">0</div>
                </div>

                <div class="divider">-</div>

                <div class="team visitante-team">
                    <h3 id="visitanteTeamName">Visitante</h3>
                    <div class="score" id="scoreVisitante">0</div>
                </div>
            </div>

            <!-- Botones de Gol -->
            <div class="controls-section">
                <h3>âš™ï¸ Controles</h3>
                
                <div class="control-group">
                    <label>ğŸ’µ Cantidad a comprar (en shares):</label>
                    <input type="number" id="quantity" value="100" min="1" class="input-number">
                </div>

                <div class="control-group">
                    <label>ğŸ“Š Precio mÃ¡ximo:</label>
                    <input type="number" id="maxPrice" value="0.90" min="0" max="1" step="0.01" class="input-number">
                </div>

                                <div class="buttons-group">
                    <button id="goalLocalBtn" class="btn btn-goal btn-local">
                        âš½ Gol Local
                    </button>
                    <button id="goalVisitanteBtn" class="btn btn-goal btn-visitante">
                        âš½ Gol Visitante
                    </button>
                </div>

                <!-- VAR Section -->
                <div class="var-section">
                    <h4>ğŸ“º Control VAR (Anular gol)</h4>
                    <div class="var-controls">
                        <button id="varLocalBtn" class="btn btn-var btn-var-local">
                            âŒ Anular Local
                        </button>
                        <button id="varVisitanteBtn" class="btn btn-var btn-var-visitante">
                            âŒ Anular Visitante
                        </button>
                    </div>
                </div>

                <button id="resetBtn" class="btn btn-secondary btn-reset">
                    ğŸ”„ Resetear Marcador
                </button>

            </div>

            <!-- Mercados detectados -->
            <div class="markets-section">
                <h3>ğŸ“Š Mercados Detectados</h3>
                <div id="marketsList" class="markets-list">
                    <p class="loading">Cargando mercados...</p>
                </div>
            </div>

            <!-- Historial de compras -->
            <div class="history-section">
                <h3>ğŸ“‹ Historial de Compras</h3>
                <div id="historyList" class="history-list">
                    <p class="empty">Sin compras aÃºn</p>
                </div>
            </div>
        </section>

        <!-- Mensajes de error -->
        <div id="errorMessage" class="error-message hidden"></div>

        <!-- Footer -->
        <footer class="footer">
            <p>ğŸš€ BeforePoly v1.0 | Powered by Node.js + Polymarket API</p>
        </footer>
    </div>

    <script src="/app.js"></script>
</body>
</html>
